{"ast":null,"code":"const Session = {\n  // retourne the token de la session storage\n  getUID: () => sessionStorage.getItem('uid'),\n  // modifie le token et l'utilisateur de la session storage\n  setUID: id => sessionStorage.setItem('uid', id),\n  // retourne the token de la session storage\n  deleteUID: () => sessionStorage.removeItem('uid'),\n  // retire le token et l'utilisateur de la session storage\n  clean: () => {\n    this.deleteUID();\n    sessionStorage.clear();\n  }\n};\n\nclass User {\n  constructor() {\n    this.findAll = () => this.users;\n\n    this.findById = id => this.users[this.users.findIndex(elt => elt.id === id)];\n\n    this.findByToken = token => this.users[this.users.findIndex(elt => elt.token === token)];\n\n    this._findByLogin = username => {\n      console.log(\"Je suis dans la fonction _findByLogin\", this.users[this.users.findIndex(elt => elt.username === username)]);\n      return this.users[this.users.findIndex(elt => elt.username === username)];\n    };\n\n    this._findByEmail = email => this.users[this.users.findIndex(elt => elt.email === email)];\n\n    this.login = ([field, is_email], password, session) => {\n      const userLogged = is_email ? this._findByEmail(field) : this._findByLogin(field);\n\n      if (!!userLogged && userLogged.password === password) {\n        session.setUID(userLogged.id);\n        console.log(\"Je suis dans la fonction login\");\n        return {\n          response: true,\n          message: `Bon retour parmi nous ${userLogged.nom}`\n        };\n      }\n\n      return {\n        response: false,\n        message: !!userLogged ? \"Mot de passe incorrect\" : \"Nom d'utilisateur ou Email incorrect\",\n        data: userLogged\n      };\n    };\n\n    this.logout = () => sessionStorage.removeItem('id');\n\n    this.passwordReset = email => console.log(\"Mot de passe changé\");\n\n    this.users = [{\n      id: 1,\n      token: \"token 1\",\n      username: \"admin\",\n      password: \"admin\",\n      email: \"email@email.com\",\n      nom: \"nom admin\",\n      prenom: \"prenom admin\",\n      pays: \"Cameroun\",\n      adresse: \"adresse admin\",\n      statut: true,\n      role: \"ADMIN\"\n    }, {\n      id: 6,\n      token: \"token 6\",\n      username: \"westbook\",\n      password: \"77539953\",\n      email: \"westbook90@email.com\",\n      nom: \"SOCGNA\",\n      prenom: \"Childéric\",\n      pays: \"Cameroun\",\n      adresse: \"Yaoundé 345125, Nsimeyoung\",\n      statut: true,\n      role: \"ADMIN\"\n    }, {\n      id: 2,\n      token: \"token 2\",\n      username: \"username 2\",\n      password: \"password 2\",\n      email: \"email2@email.com\",\n      nom: \"nom 2\",\n      prenom: \"prenom 2\",\n      pays: \"Cameroun\",\n      adresse: \"adresse 2\",\n      statut: true,\n      role: \"USER\"\n    }, {\n      id: 3,\n      token: \"token 3\",\n      username: \"username 3\",\n      password: \"password 3\",\n      email: \"email3@email.com\",\n      nom: \"nom 3\",\n      prenom: \"prenom 3\",\n      pays: \"Cameroun\",\n      adresse: \"adresse 3\",\n      statut: true,\n      role: \"USER\"\n    }, {\n      id: 4,\n      username: \"username 4\",\n      password: \"password 4\",\n      token: \"token 4\",\n      nom: \"nom 4\",\n      prenom: \"prenom 4\",\n      pays: \"Cameroun\",\n      adresse: \"adresse 4\",\n      statut: true,\n      role: \"USER\"\n    }, {\n      id: 5,\n      username: \"username 5\",\n      password: \"password 5\",\n      token: \"token 5\",\n      nom: \"nom 5\",\n      prenom: \"prenom 5\",\n      pays: \"Cameroun\",\n      adresse: \"adresse 5\",\n      statut: true,\n      role: \"USER\"\n    }];\n  }\n\n}\n\nexport { User, Session };","map":{"version":3,"sources":["C:/Users/westb/Documents/PROJET/FuelTracker/client_web/src/utils/Data.js"],"names":["Session","getUID","sessionStorage","getItem","setUID","id","setItem","deleteUID","removeItem","clean","clear","User","constructor","findAll","users","findById","findIndex","elt","findByToken","token","_findByLogin","username","console","log","_findByEmail","email","login","field","is_email","password","session","userLogged","response","message","nom","data","logout","passwordReset","prenom","pays","adresse","statut","role"],"mappings":"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","sourcesContent":["\r\nconst Session = {\r\n\r\n    // retourne the token de la session storage\r\n    getUID: () => sessionStorage.getItem('uid'),\r\n\r\n    // modifie le token et l'utilisateur de la session storage\r\n    setUID: (id) => sessionStorage.setItem('uid', id),\r\n\r\n    // retourne the token de la session storage\r\n    deleteUID: () => sessionStorage.removeItem('uid'),\r\n\r\n    // retire le token et l'utilisateur de la session storage\r\n    clean: () => {\r\n        this.deleteUID();\r\n        sessionStorage.clear();\r\n    }\r\n\r\n}\r\n\r\n\r\nclass User {\r\n    constructor() {\r\n        this.users = [\r\n            {\r\n                id: 1, token: \"token 1\",\r\n                username: \"admin\", password: \"admin\", email:\"email@email.com\",\r\n                nom: \"nom admin\", prenom: \"prenom admin\",\r\n                pays: \"Cameroun\", adresse: \"adresse admin\",\r\n                statut: true, role: \"ADMIN\"\r\n            },\r\n\r\n            {\r\n                id: 6, token: \"token 6\",\r\n                username: \"westbook\", password: \"77539953\", email:\"westbook90@email.com\",\r\n                nom: \"SOCGNA\", prenom: \"Childéric\",\r\n                pays: \"Cameroun\", adresse: \"Yaoundé 345125, Nsimeyoung\",\r\n                statut: true, role: \"ADMIN\"\r\n            },\r\n\r\n            {\r\n                id: 2, token: \"token 2\",\r\n                username: \"username 2\", password: \"password 2\", email:\"email2@email.com\",\r\n                nom: \"nom 2\", prenom: \"prenom 2\",\r\n                pays: \"Cameroun\", adresse: \"adresse 2\",\r\n                statut: true, role: \"USER\"\r\n            },\r\n\r\n            {\r\n                id: 3, token: \"token 3\",\r\n                username: \"username 3\", password: \"password 3\", email:\"email3@email.com\",\r\n                nom: \"nom 3\", prenom: \"prenom 3\",\r\n                pays: \"Cameroun\", adresse: \"adresse 3\",\r\n                statut: true, role: \"USER\"\r\n            },\r\n\r\n            {\r\n                id: 4, username: \"username 4\", password: \"password 4\", token: \"token 4\",\r\n                nom: \"nom 4\", prenom: \"prenom 4\", pays: \"Cameroun\", adresse: \"adresse 4\",\r\n                statut: true, role: \"USER\"\r\n            },\r\n\r\n            {\r\n                id: 5, username: \"username 5\", password: \"password 5\", token: \"token 5\",\r\n                nom: \"nom 5\", prenom: \"prenom 5\", pays: \"Cameroun\", adresse: \"adresse 5\",\r\n                statut: true, role: \"USER\"\r\n            },\r\n        ]\r\n    }\r\n\r\n    findAll = () => this.users;\r\n\r\n    findById = id => this.users[this.users.findIndex(elt => elt.id === id)];\r\n\r\n    findByToken = token => this.users[this.users.findIndex(elt => elt.token === token)];\r\n\r\n    _findByLogin = (username) => {\r\n        console.log(\"Je suis dans la fonction _findByLogin\", this.users[this.users.findIndex(elt => elt.username === username)])\r\n        return this.users[this.users.findIndex(elt => elt.username === username)]};\r\n    _findByEmail = (email) => this.users[this.users.findIndex(elt => elt.email === email)];\r\n\r\n    login = ([field, is_email], password, session) => {\r\n        const userLogged = is_email ? this._findByEmail(field) : this._findByLogin(field);\r\n        if (!!userLogged && userLogged.password === password){\r\n            session.setUID(userLogged.id);\r\n            console.log(\"Je suis dans la fonction login\")\r\n            return {response: true, message: `Bon retour parmi nous ${userLogged.nom}`}\r\n        }\r\n        return {response: false, message: !!userLogged ? \"Mot de passe incorrect\" : \"Nom d'utilisateur ou Email incorrect\", data: userLogged}\r\n    };\r\n\r\n    logout = () => sessionStorage.removeItem('id');\r\n\r\n    passwordReset = email => console.log(\"Mot de passe changé\")\r\n}\r\n\r\n\r\nexport {User, Session}"]},"metadata":{},"sourceType":"module"}